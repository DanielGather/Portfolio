<div id="contactMe" class="container">
  <div class="left-container">
    <p>Contact me</p>
    <h2>Let's work together</h2>
    <p>Got a problem to solve?</p>
    <p>
      Encourage people to contact you and describe what role you are interested
      in. Show that you will add value to their projects through your work.
    </p>
    <br />
    <p>Need a Frontend Developer? <span>Let's talk!</span></p>
  </div>
  <div class="right-container">
    <form
      class="form-container"
      (ngSubmit)="onSubmit(contactForm)"
      #contactForm="ngForm"
    >
      <label for="name"><p>What's your name</p></label>
      <div class="input-containers">
        <input
          #nameModel="ngModel"
          #nameRef
          [(ngModel)]="contactData.name"
          type="text"
          id="name"
          name="name"
          [placeholder]="yourName"
          (blur)="!nameModel.valid ? (applyUserNotification = true) : ''"
          minlength="2"
          required
        />
        @if(applyUserNotification && nameModel.invalid && nameModel.touched){
        <div (click)="focusInputAgain()" class="notValid">
          Please enter your name
        </div>
        }
      </div>

      <label for="email"><p>What's your email?</p></label>
      <div class="input-containers">
        <input
          #emailRef
          #emailModel="ngModel"
          [(ngModel)]="contactData.email"
          type="email"
          id="email"
          name="email"
          placeholder="youremail@email.com"
          required
          pattern="[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,}"
          (blur)="!emailModel.valid ? (applyUserNotification = true) : ''"
        />
        @if(applyUserNotification && emailModel.invalid && emailModel.touched){
        <div (click)="applyUserNotification = false" class="notValid">
          Hoppla! your email is required
        </div>
        }
      </div>

      <label for="message"><p>How can I help you?</p> </label>
      <div class="input-containers">
        <textarea
          rows="1"
          #textareaRef
          #textareaModel="ngModel"
          [(ngModel)]="contactData.message"
          #message="ngModel"
          name="message"
          id="message"
          placeholder="Hello Daniel, I am interested in..."
          required
          minlength="5"
          (blur)="!textareaModel.valid ? (applyUserNotification = true) : ''"
        ></textarea>
        @if(applyUserNotification && textareaModel.invalid &&
        textareaModel.touched){
        <div (click)="applyUserNotification = false" class="notValid">
          What do you need to develop?
        </div>
        }
      </div>
      <label class="checkbox-container">
        <input
          class="checkbox"
          type="checkbox"
          id="meine-checkbox"
          [(ngModel)]="privacyAccepted"
          name="privacyPolicy"
        />
        <span class="custom-checkbox"></span>
        <p>
          I've read the
          <span>privacy policy</span>
          and agree to the processing of my data as outlinded.
        </p>
      </label>
      <div class="submit-button">
        <button
          type="submit"
          [disabled]="
            !privacyAccepted ||
            textareaModel.invalid ||
            emailModel.invalid ||
            nameModel.invalid
          "
        >
          <p>Say Hello :)</p>
        </button>
        @if(sendComplete){
        <div
          style="
            position: absolute;
            bottom: 45px;
            color: yellow;
            font-size: 18px;
          "
        >
          Email wurd gesendet !
        </div>
        }
      </div>
    </form>
  </div>
</div>
